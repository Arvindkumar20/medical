{"error":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","level":"error","message":"Registration error: Operation `users.findOne()` buffering timed out after 10000ms","service":"user-service","timestamp":"2025-07-31 18:27:40"}
{"error":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","level":"error","message":"Registration error: Operation `users.findOne()` buffering timed out after 10000ms","service":"user-service","timestamp":"2025-07-31 18:28:30"}
{"error":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\drivers\\node-mongodb-native\\collection.js:187:23)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","level":"error","message":"Registration error: Operation `users.findOne()` buffering timed out after 10000ms","service":"user-service","timestamp":"2025-07-31 18:30:52"}
{"error":"ValidationError: User validation failed: password: Password must be at least 8 characters long, role: Role must be either customer, doctor, or admin\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","level":"error","message":"Registration error: User validation failed: password: Password must be at least 8 characters long, role: Role must be either customer, doctor, or admin","service":"user-service","timestamp":"2025-07-31 18:41:02"}
{"error":"Error: secretOrPrivateKey must have a value\n    at module.exports [as sign] (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\jsonwebtoken\\sign.js:111:20)\n    at generateToken (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:17:14)\n    at registerUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:77:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","level":"error","message":"Registration error: secretOrPrivateKey must have a value","service":"user-service","timestamp":"2025-07-31 18:41:28"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:155:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-01 22:40:42"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:155:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-01 23:02:51"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:155:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-01 23:04:24"}
{"error":"ReferenceError: email is not defined\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:159:39)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: email is not defined","service":"user-service","timestamp":"2025-08-01 23:05:21"}
{"error":"ReferenceError: email is not defined\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:159:39)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: email is not defined","service":"user-service","timestamp":"2025-08-01 23:07:03"}
{"error":"ReferenceError: email is not defined\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:159:39)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: email is not defined","service":"user-service","timestamp":"2025-08-01 23:09:35"}
{"error":"ReferenceError: email is not defined\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:159:39)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: email is not defined","service":"user-service","timestamp":"2025-08-01 23:10:00"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:155:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-01 23:10:26"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:155:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-01 23:12:49"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:155:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-01 23:13:04"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:155:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-01 23:22:03"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:155:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-01 23:23:50"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:155:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-01 23:24:03"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:155:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-01 23:28:55"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:155:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-02 17:49:41"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:156:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-02 17:50:28"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:156:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-02 17:52:20"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:156:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-02 17:54:06"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:156:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-02 17:54:52"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:156:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-02 17:55:41"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:156:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-02 18:02:11"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:156:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-02 18:09:59"}
{"error":"TypeError: Cannot destructure property 'name' of 'req.body' as it is undefined.\n    at registerUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:53:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Registration error: Cannot destructure property 'name' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-02 18:12:47"}
{"error":"TypeError: Cannot destructure property 'name' of 'req.body' as it is undefined.\n    at registerUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:53:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Registration error: Cannot destructure property 'name' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-02 18:13:08"}
{"error":"Error: secretOrPrivateKey must have a value\n    at module.exports [as sign] (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\jsonwebtoken\\sign.js:111:20)\n    at generateToken (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:17:14)\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:220:19)","level":"error","message":"Login error: secretOrPrivateKey must have a value","service":"user-service","timestamp":"2025-08-02 18:16:14"}
{"level":"error","message":"Error in createProduct: Cannot read properties of undefined (reading 'name')","service":"user-service","stack":"TypeError: Cannot read properties of undefined (reading 'name')\n    at createProduct (file:///C:/Users/DELL/Desktop/medical/backend/controllers/productController.js:157:24)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at file:///C:/Users/DELL/Desktop/medical/backend/middlewares/rateLimiter.js:64:7\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15","timestamp":"2025-08-03 09:57:14"}
{"error":"TypeError: Cannot destructure property 'email' of 'req.body' as it is undefined.\n    at loginUser (file:///C:/Users/DELL/Desktop/medical/backend/controllers/authController.js:157:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:186:3)","level":"error","message":"Login error: Cannot destructure property 'email' of 'req.body' as it is undefined.","service":"user-service","timestamp":"2025-08-03 11:07:02"}
{"body":{"barcode":"1234567890123","category":"64f8a22c2d45b4e6a88c91b3","description":"Paracetamol 500mg is used for relief from fever and mild to moderate pain. Each strip contains 10 tablets with high-quality formulation for effective results.","discount":{"amount":10,"endDate":"2025-08-15T23:59:59.000Z","startDate":"2025-08-01T00:00:00.000Z"},"expiryDate":"2026-12-31T00:00:00.000Z","images":["https://example.com/images/paracetamol-500mg-front.jpg","https://example.com/images/paracetamol-500mg-back.jpg"],"manufacturer":"ABC Pharma Ltd.","name":"Paracetamol 500mg Tablets","price":49.99,"quantity":100,"ratings":{"average":4.5,"count":150},"requiresPrescription":false,"sku":"PARA500-ABC1","specifications":{"dimensions":{"height":2,"length":10,"unit":"cm","width":5},"weight":{"unit":"g","value":50}},"status":"active","store":"64f8a12c2d45b4e6a88c91a2","tags":["fever","pain-relief","medicine"],"variants":[{"name":"Pack of 10","price":49.99,"quantity":100,"sku":"PARA500-P10"},{"name":"Pack of 20","price":89.99,"quantity":50,"sku":"PARA500-P20"}]},"level":"error","message":"Error in createProduct: Product validation failed: category: Schema hasn't been registered for model \"Category\".\nUse mongoose.model(name, schema), store: Store must be an approved and active store","service":"user-service","stack":"ValidationError: Product validation failed: category: Schema hasn't been registered for model \"Category\".\nUse mongoose.model(name, schema), store: Store must be an approved and active store\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-03 11:09:53"}
{"body":{"address":"123 Main Street, City","businessHours":[{"close":"18:00","day":"Monday","open":"09:00"},{"close":"18:00","day":"Tuesday","open":"09:00"}],"categories":["pharmacy"],"description":"Local pharmacy","email":"owner@example.com","location":{"coordinates":[77.5946,12.9716],"type":"Point"},"name":"My Pharmacy","phone":"+911234567890","website":"https://examplepharmacy.com"},"level":"error","message":"getUser is not defined","service":"user-service","stack":"ReferenceError: getUser is not defined\n    at createStore (file:///C:/Users/DELL/Desktop/medical/backend/controllers/storeController.js:98:21)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at middleware (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-04 22:50:03"}
{"body":{"address":"123 Main Street, City","businessHours":[{"close":"18:00","day":"Monday","open":"09:00"},{"close":"18:00","day":"Tuesday","open":"09:00"}],"categories":["pharmacy"],"description":"Local pharmacy","email":"owner@example.com","location":{"coordinates":[77.5946,12.9716],"type":"Point"},"name":"My Pharmacy","phone":"+911234567890","website":"https://examplepharmacy.com"},"level":"error","message":"Cast to ObjectId failed for value \"64f8...abc\" (type string) at path \"_id\" for model \"User\"","service":"user-service","stack":"CastError: Cast to ObjectId failed for value \"64f8...abc\" (type string) at path \"_id\" for model \"User\"\n    at SchemaObjectId.cast (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1676:17)\n    at cast (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\cast.js:390:32)\n    at Query.cast (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\query.js:5055:12)\n    at Query._castConditions (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\query.js:2351:10)\n    at model.Query._findOne (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\query.js:2674:8)\n    at model.Query.exec (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\query.js:4604:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getUser (file:///C:/Users/DELL/Desktop/medical/backend/routes/userService.js:55:16)","timestamp":"2025-08-04 22:51:17"}
{"body":{"address":"123 Main Street, City","businessHours":[{"close":"18:00","day":"Monday","open":"09:00"},{"close":"18:00","day":"Tuesday","open":"09:00"}],"categories":["pharmacy"],"description":"Local pharmacy","email":"owner@example.com","location":{"coordinates":[77.5946,12.9716],"type":"Point"},"name":"My Pharmacy","phone":"+911234567890","website":"https://examplepharmacy.com"},"level":"error","message":"partial is not defined","service":"user-service","stack":"ReferenceError: partial is not defined\n    at createStore (file:///C:/Users/DELL/Desktop/medical/backend/controllers/storeController.js:100:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-04 22:54:40"}
{"error":"ValidationError: User validation failed: qualifications: Path `qualifications` is required., specialization: Path `specialization` is required.\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","level":"error","message":"Registration error: User validation failed: qualifications: Path `qualifications` is required., specialization: Path `specialization` is required.","service":"user-service","timestamp":"2025-08-04 22:57:48"}
{"error":"ValidationError: User validation failed: qualifications: Path `qualifications` is required., specialization: Path `specialization` is required.\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","level":"error","message":"Registration error: User validation failed: qualifications: Path `qualifications` is required., specialization: Path `specialization` is required.","service":"user-service","timestamp":"2025-08-04 22:58:23"}
{"error":"ValidationError: User validation failed: qualifications: Path `qualifications` is required., specialization: Path `specialization` is required.\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","level":"error","message":"Registration error: User validation failed: qualifications: Path `qualifications` is required., specialization: Path `specialization` is required.","service":"user-service","timestamp":"2025-08-04 22:59:35"}
{"error":"ValidationError: User validation failed: qualifications: Path `qualifications` is required., specialization: Path `specialization` is required.\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","level":"error","message":"Registration error: User validation failed: qualifications: Path `qualifications` is required., specialization: Path `specialization` is required.","service":"user-service","timestamp":"2025-08-04 23:00:28"}
{"error":"ValidationError: User validation failed: qualifications: Path `qualifications` is required., specialization: Path `specialization` is required.\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","level":"error","message":"Registration error: User validation failed: qualifications: Path `qualifications` is required., specialization: Path `specialization` is required.","service":"user-service","timestamp":"2025-08-04 23:03:00"}
{"body":{"address":"123 Main Street, City","businessHours":[{"close":"18:00","day":"Monday","open":"09:00"},{"close":"18:00","day":"Tuesday","open":"09:00"}],"categories":["pharmacy"],"description":"Local pharmacy","email":"owner@example.com","location":{"coordinates":[77.5946,12.9716],"type":"Point"},"name":"My Pharmacy","phone":"+911234567890","website":"https://examplepharmacy.com"},"level":"error","message":"User is not defined","service":"user-service","stack":"ReferenceError: User is not defined\n    at createStore (file:///C:/Users/DELL/Desktop/medical/backend/controllers/storeController.js:102:18)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at middleware (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-04 23:22:23","user":"6890f11939afc893aaa8a7fc"}
{"body":{"address":"123 Main Street, City","businessHours":[{"close":"18:00","day":"Monday","open":"09:00"},{"close":"18:00","day":"Tuesday","open":"09:00"}],"categories":["pharmacy"],"description":"Local pharmacy","email":"owner@example.com","location":{"coordinates":[77.5946,12.9716],"type":"Point"},"name":"My Pharmacy","phone":"+911234567890","website":"https://examplepharmacy.com"},"level":"error","message":"Store validation failed: phone: Please provide a valid phone number","service":"user-service","stack":"ValidationError: Store validation failed: phone: Please provide a valid phone number\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-04 23:55:00","user":"6890f11939afc893aaa8a7fc"}
{"level":"error","message":"Cannot destructure property 'approved' of 'req.body' as it is undefined.","service":"user-service","stack":"TypeError: Cannot destructure property 'approved' of 'req.body' as it is undefined.\n    at setApproval (file:///C:/Users/DELL/Desktop/medical/backend/controllers/storeController.js:349:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at protect (file:///C:/Users/DELL/Desktop/medical/backend/middlewares/authMiddleware.js:27:5)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15","storeId":"68923e5e6b051ffbdb9edbbf","timestamp":"2025-08-08 22:43:54"}
{"level":"error","message":"Cannot destructure property 'approved' of 'req.body' as it is undefined.","service":"user-service","stack":"TypeError: Cannot destructure property 'approved' of 'req.body' as it is undefined.\n    at setApproval (file:///C:/Users/DELL/Desktop/medical/backend/controllers/storeController.js:349:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at protect (file:///C:/Users/DELL/Desktop/medical/backend/middlewares/authMiddleware.js:27:5)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15","storeId":"68923e5e6b051ffbdb9edbbf","timestamp":"2025-08-08 22:44:08"}
{"level":"error","message":"Cannot destructure property 'approved' of 'req.body' as it is undefined.","service":"user-service","stack":"TypeError: Cannot destructure property 'approved' of 'req.body' as it is undefined.\n    at setApproval (file:///C:/Users/DELL/Desktop/medical/backend/controllers/storeController.js:349:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at protect (file:///C:/Users/DELL/Desktop/medical/backend/middlewares/authMiddleware.js:27:5)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15","storeId":"68923e5e6b051ffbdb9edbbf","timestamp":"2025-08-08 22:44:45"}
{"level":"error","message":"Cannot destructure property 'rating' of 'req.body' as it is undefined.","service":"user-service","stack":"TypeError: Cannot destructure property 'rating' of 'req.body' as it is undefined.\n    at updateRating (file:///C:/Users/DELL/Desktop/medical/backend/controllers/storeController.js:372:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at protect (file:///C:/Users/DELL/Desktop/medical/backend/middlewares/authMiddleware.js:27:5)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15","storeId":"68923e5e6b051ffbdb9edbbf","timestamp":"2025-08-08 22:55:50"}
{"level":"error","message":"Cannot destructure property 'rating' of 'req.body' as it is undefined.","service":"user-service","stack":"TypeError: Cannot destructure property 'rating' of 'req.body' as it is undefined.\n    at updateRating (file:///C:/Users/DELL/Desktop/medical/backend/controllers/storeController.js:372:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at protect (file:///C:/Users/DELL/Desktop/medical/backend/middlewares/authMiddleware.js:27:5)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15","storeId":"68923e5e6b051ffbdb9edbbf","timestamp":"2025-08-08 22:56:10"}
{"level":"error","message":"status is not defined","service":"user-service","stack":"ReferenceError: status is not defined\n    at setApproval (file:///C:/Users/DELL/Desktop/medical/backend/controllers/storeController.js:356:19)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at protect (file:///C:/Users/DELL/Desktop/medical/backend/middlewares/authMiddleware.js:27:5)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15","storeId":"6890fb1a51bb7bc2e3e8142b","timestamp":"2025-08-11 17:46:13"}
{"body":{"description ":"This is fever solution tablet","name":"Fever solution","price":"30","quantity":"5"},"level":"error","message":"Error in createProduct: Product validation failed: price: Cast to Number failed for value \"30\" (type string) at path \"price\" because of \"TypeError\", category: Category reference is required, store: Store reference is required, description: Description is required","service":"user-service","stack":"ValidationError: Product validation failed: price: Cast to Number failed for value \"30\" (type string) at path \"price\" because of \"TypeError\", category: Category reference is required, store: Store reference is required, description: Description is required\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1486:12)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:4837:15)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2786:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2774:34)\n    at createProduct (file:///C:/Users/DELL/Desktop/medical/backend/controllers/productController.js:205:37)","timestamp":"2025-08-11 18:26:06"}
{"body":{"description ":"This is fever solution tablet","name":"Fever solution","price":"30","quantity":"5","store":"6890fb1a51bb7bc2e3e8142b"},"level":"error","message":"Error in createProduct: Product validation failed: price: Cast to Number failed for value \"30\" (type string) at path \"price\" because of \"TypeError\", category: Category reference is required, description: Description is required","service":"user-service","stack":"ValidationError: Product validation failed: price: Cast to Number failed for value \"30\" (type string) at path \"price\" because of \"TypeError\", category: Category reference is required, description: Description is required\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1486:12)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:4837:15)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2786:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2774:34)\n    at createProduct (file:///C:/Users/DELL/Desktop/medical/backend/controllers/productController.js:244:37)","timestamp":"2025-08-11 18:58:51"}
{"body":{"description ":"This is fever solution tablet","name":"Fever solution","price":"30","quantity":"5","store":"6890fb1a51bb7bc2e3e8142b"},"level":"error","message":"Error in createProduct: Product validation failed: price: Cast to Number failed for value \"30\" (type string) at path \"price\" because of \"TypeError\", category: Category reference is required, description: Description is required","service":"user-service","stack":"ValidationError: Product validation failed: price: Cast to Number failed for value \"30\" (type string) at path \"price\" because of \"TypeError\", category: Category reference is required, description: Description is required\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1486:12)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:4837:15)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2786:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2774:34)\n    at createProduct (file:///C:/Users/DELL/Desktop/medical/backend/controllers/productController.js:694:37)","timestamp":"2025-08-12 15:24:19"}
{"body":{"description ":"This is fever solution tablet","name":"Fever solution","price":"30","quantity":"5","store":"68923e5e6b051ffbdb9edbbf"},"level":"error","message":"Error in createProduct: Product validation failed: price: Cast to Number failed for value \"30\" (type string) at path \"price\" because of \"TypeError\", category: Category reference is required, description: Description is required, store: Store must be an approved and active store","service":"user-service","stack":"ValidationError: Product validation failed: price: Cast to Number failed for value \"30\" (type string) at path \"price\" because of \"TypeError\", category: Category reference is required, description: Description is required, store: Store must be an approved and active store\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1486:12)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:4837:15)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2786:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2774:34)\n    at createProduct (file:///C:/Users/DELL/Desktop/medical/backend/controllers/productController.js:694:37)","timestamp":"2025-08-12 15:58:59"}
{"body":{"description ":"This is fever solution tablet","name":"Fever solution","price":"30","quantity":"5","store":"68923e5e6b051ffbdb9edbbf"},"level":"error","message":"Error in createProduct: Product validation failed: price: Cast to Number failed for value \"30\" (type string) at path \"price\" because of \"TypeError\", category: Category reference is required, description: Description is required, store: Store must be an approved and active store","service":"user-service","stack":"ValidationError: Product validation failed: price: Cast to Number failed for value \"30\" (type string) at path \"price\" because of \"TypeError\", category: Category reference is required, description: Description is required, store: Store must be an approved and active store\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1486:12)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:4837:15)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2786:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2774:34)\n    at createProduct (file:///C:/Users/DELL/Desktop/medical/backend/controllers/productController.js:700:37)","timestamp":"2025-08-12 16:02:27"}
{"body":{"description ":"This is fever solution tablet","name":"Fever solution","price":30,"quantity":"5","store":"68923e5e6b051ffbdb9edbbf"},"level":"error","message":"Error in createProduct: Product validation failed: category: Category reference is required, description: Description is required, store: Store must be an approved and active store","service":"user-service","stack":"ValidationError: Product validation failed: category: Category reference is required, description: Description is required, store: Store must be an approved and active store\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-12 16:09:03"}
{"body":{"category":"6899e55d2cc228a6c66ad6b0","description ":"This is fever solution tablet","name":"Fever solution","price":30,"quantity":"5","store":"68923e5e6b051ffbdb9edbbf"},"level":"error","message":"Error in createProduct: Product validation failed: description: Description is required, store: Store must be an approved and active store","service":"user-service","stack":"ValidationError: Product validation failed: description: Description is required, store: Store must be an approved and active store\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-12 16:11:09"}
{"body":{"category":"6899e55d2cc228a6c66ad6b0","description":"This is fever solution tablet","name":"Fever solution","price":30,"quantity":"5","store":"68923e5e6b051ffbdb9edbbf"},"level":"error","message":"Error in createProduct: Product validation failed: store: Store must be an approved and active store","service":"user-service","stack":"ValidationError: Product validation failed: store: Store must be an approved and active store\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-12 16:12:19"}
{"body":{"billingAddress":"66c1b4e2ecbb5c11b5a9f444","discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":"66c1b4e2ecbb5c11b5a9f333","shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Order validation failed: orderId: Path `orderId` is required., shippingAddress: Schema hasn't been registered for model \"Address\".\nUse mongoose.model(name, schema), billingAddress: Schema hasn't been registered for model \"Address\".\nUse mongoose.model(name, schema), items.0.product: Product must be active and valid, user: User must be verified and valid, items.0.store: Store must be approved and active","service":"user-service","stack":"ValidationError: Order validation failed: orderId: Path `orderId` is required., shippingAddress: Schema hasn't been registered for model \"Address\".\nUse mongoose.model(name, schema), billingAddress: Schema hasn't been registered for model \"Address\".\nUse mongoose.model(name, schema), items.0.product: Product must be active and valid, user: User must be verified and valid, items.0.store: Store must be approved and active\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-19 13:47:24"}
{"body":{"billingAddress":{"coordinates":[77.5946,12.9716]},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"coordinates":[77.5946,12.9716]},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Order validation failed: shippingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"shippingAddress\" because of \"BSONError\", billingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"billingAddress\" because of \"BSONError\", orderId: Path `orderId` is required., items.0.product: Product must be active and valid, user: User must be verified and valid, items.0.store: Store must be approved and active","service":"user-service","stack":"ValidationError: Order validation failed: shippingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"shippingAddress\" because of \"BSONError\", billingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"billingAddress\" because of \"BSONError\", orderId: Path `orderId` is required., items.0.product: Product must be active and valid, user: User must be verified and valid, items.0.store: Store must be approved and active\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:4837:15)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2786:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2774:34)\n    at createOrder (file:///C:/Users/DELL/Desktop/medical/backend/controllers/orderController.js:146:31)","timestamp":"2025-08-19 16:03:03"}
{"body":{"billingAddress":{"coordinates":[77.5946,12.9716]},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"coordinates":[77.5946,12.9716]},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Order validation failed: shippingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"shippingAddress\" because of \"BSONError\", billingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"billingAddress\" because of \"BSONError\", orderId: Path `orderId` is required., user: User must be verified and valid, items.0.product: Product must be active and valid, items.0.store: Store must be approved and active","service":"user-service","stack":"ValidationError: Order validation failed: shippingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"shippingAddress\" because of \"BSONError\", billingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"billingAddress\" because of \"BSONError\", orderId: Path `orderId` is required., user: User must be verified and valid, items.0.product: Product must be active and valid, items.0.store: Store must be approved and active\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:4837:15)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2786:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2774:34)\n    at createOrder (file:///C:/Users/DELL/Desktop/medical/backend/controllers/orderController.js:146:31)","timestamp":"2025-08-19 16:06:04"}
{"body":{"billingAddress":{"coordinates":[77.5946,12.9716]},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"coordinates":[77.5946,12.9716]},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Order validation failed: shippingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"shippingAddress\" because of \"BSONError\", billingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"billingAddress\" because of \"BSONError\", orderId: Path `orderId` is required., items.0.store: Store must be approved and active, items.0.product: Product must be active and valid, user: User must be verified and valid","service":"user-service","stack":"ValidationError: Order validation failed: shippingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"shippingAddress\" because of \"BSONError\", billingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"billingAddress\" because of \"BSONError\", orderId: Path `orderId` is required., items.0.store: Store must be approved and active, items.0.product: Product must be active and valid, user: User must be verified and valid\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:4837:15)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2786:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2774:34)\n    at createOrder (file:///C:/Users/DELL/Desktop/medical/backend/controllers/orderController.js:146:31)","timestamp":"2025-08-19 16:06:59"}
{"body":{"billingAddress":{"coordinates":[77.5946,12.9716]},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"coordinates":[77.5946,12.9716]},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Order validation failed: shippingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"shippingAddress\" because of \"BSONError\", billingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"billingAddress\" because of \"BSONError\", orderId: Path `orderId` is required., items.0.product: Product must be active and valid, user: User must be verified and valid, items.0.store: Store must be approved and active","service":"user-service","stack":"ValidationError: Order validation failed: shippingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"shippingAddress\" because of \"BSONError\", billingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"billingAddress\" because of \"BSONError\", orderId: Path `orderId` is required., items.0.product: Product must be active and valid, user: User must be verified and valid, items.0.store: Store must be approved and active\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:4837:15)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2786:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2774:34)\n    at createOrder (file:///C:/Users/DELL/Desktop/medical/backend/controllers/orderController.js:146:31)","timestamp":"2025-08-19 16:08:23"}
{"body":{"billingAddress":{"coordinates":[77.5946,12.9716]},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"coordinates":[77.5946,12.9716]},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Order validation failed: shippingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"shippingAddress\" because of \"BSONError\", billingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"billingAddress\" because of \"BSONError\", orderId: Path `orderId` is required., user: User must be verified and valid, items.0.product: Product must be active and valid, items.0.store: Store must be approved and active","service":"user-service","stack":"ValidationError: Order validation failed: shippingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"shippingAddress\" because of \"BSONError\", billingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"billingAddress\" because of \"BSONError\", orderId: Path `orderId` is required., user: User must be verified and valid, items.0.product: Product must be active and valid, items.0.store: Store must be approved and active\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:4837:15)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2786:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2774:34)\n    at createOrder (file:///C:/Users/DELL/Desktop/medical/backend/controllers/orderController.js:146:31)","timestamp":"2025-08-19 16:12:21"}
{"body":{"billingAddress":{"coordinates":[77.5946,12.9716]},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"coordinates":[77.5946,12.9716]},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Order validation failed: shippingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"shippingAddress\" because of \"BSONError\", billingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"billingAddress\" because of \"BSONError\", orderId: Path `orderId` is required., items.0.product: Product must be active and valid, items.0.store: Store must be approved and active, user: User must be verified and valid","service":"user-service","stack":"ValidationError: Order validation failed: shippingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"shippingAddress\" because of \"BSONError\", billingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"billingAddress\" because of \"BSONError\", orderId: Path `orderId` is required., items.0.product: Product must be active and valid, items.0.store: Store must be approved and active, user: User must be verified and valid\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:4837:15)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2786:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2774:34)\n    at createOrder (file:///C:/Users/DELL/Desktop/medical/backend/controllers/orderController.js:146:31)","timestamp":"2025-08-19 16:15:14"}
{"body":{"billingAddress":{"coordinates":[77.5946,12.9716]},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"coordinates":[77.5946,12.9716]},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Order validation failed: shippingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"shippingAddress\" because of \"BSONError\", billingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"billingAddress\" because of \"BSONError\", orderId: Path `orderId` is required., items.0.store: Store must be approved and active, items.0.product: Product must be active and valid, user: User must be verified and valid","service":"user-service","stack":"ValidationError: Order validation failed: shippingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"shippingAddress\" because of \"BSONError\", billingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"billingAddress\" because of \"BSONError\", orderId: Path `orderId` is required., items.0.store: Store must be approved and active, items.0.product: Product must be active and valid, user: User must be verified and valid\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:4837:15)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2786:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2774:34)\n    at createOrder (file:///C:/Users/DELL/Desktop/medical/backend/controllers/orderController.js:146:31)","timestamp":"2025-08-19 16:17:15"}
{"body":{"billingAddress":{"coordinates":[77.5946,12.9716]},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"coordinates":[77.5946,12.9716]},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Order validation failed: shippingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"shippingAddress\" because of \"BSONError\", billingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"billingAddress\" because of \"BSONError\", orderId: Path `orderId` is required., user: User must be verified and valid, items.0.product: Product must be active and valid, items.0.store: Store must be approved and active","service":"user-service","stack":"ValidationError: Order validation failed: shippingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"shippingAddress\" because of \"BSONError\", billingAddress: Cast to ObjectId failed for value \"{ coordinates: [ 77.5946, 12.9716 ] }\" (type Object) at path \"billingAddress\" because of \"BSONError\", orderId: Path `orderId` is required., user: User must be verified and valid, items.0.product: Product must be active and valid, items.0.store: Store must be approved and active\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1480:12)\n    at model.$set (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:1132:16)\n    at model.Document (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:178:12)\n    at model.Model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:127:12)\n    at new model (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:4837:15)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2786:20\n    at Array.map (<anonymous>)\n    at Function.create (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\model.js:2774:34)\n    at createOrder (file:///C:/Users/DELL/Desktop/medical/backend/controllers/orderController.js:147:31)","timestamp":"2025-08-19 16:21:43"}
{"body":{"billingAddress":{"coordinates":[77.5946,12.9716]},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"coordinates":[77.5946,12.9716]},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Order validation failed: orderId: Path `orderId` is required., shippingAddress: Shipping address is required, items.0.store: Store must be approved and active, user: User must be verified and valid, items.0.product: Product must be active and valid","service":"user-service","stack":"ValidationError: Order validation failed: orderId: Path `orderId` is required., shippingAddress: Shipping address is required, items.0.store: Store must be approved and active, user: User must be verified and valid, items.0.product: Product must be active and valid\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-19 17:09:32"}
{"body":{"billingAddress":{"coordinates":[77.5946,12.9716]},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"coordinates":[77.5946,12.9716]},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Order validation failed: orderId: Path `orderId` is required., shippingAddress: Shipping address is required, items.0.product: Product must be active and valid, items.0.store: Store must be approved and active, user: User must be verified and valid","service":"user-service","stack":"ValidationError: Order validation failed: orderId: Path `orderId` is required., shippingAddress: Shipping address is required, items.0.product: Product must be active and valid, items.0.store: Store must be approved and active, user: User must be verified and valid\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-19 17:11:14"}
{"body":{"billingAddress":{"coordinates":[77.5946,12.9716]},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"coordinates":[77.5946,12.9716]},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Order validation failed: orderId: Path `orderId` is required., shippingAddress: Shipping address is required, items.0.store: Store must be approved and active, items.0.product: Product must be active and valid, user: User must be verified and valid","service":"user-service","stack":"ValidationError: Order validation failed: orderId: Path `orderId` is required., shippingAddress: Shipping address is required, items.0.store: Store must be approved and active, items.0.product: Product must be active and valid, user: User must be verified and valid\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-19 17:25:38"}
{"body":{"billingAddress":{"coordinates":[77.5946,12.9716]},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"coordinates":[77.5946,12.9716]},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Order validation failed: orderId: Path `orderId` is required., items.0.product: Product must be active and valid, items.0.store: Store must be approved and active, user: User must be verified and valid","service":"user-service","stack":"ValidationError: Order validation failed: orderId: Path `orderId` is required., items.0.product: Product must be active and valid, items.0.store: Store must be approved and active, user: User must be verified and valid\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-19 17:28:38"}
{"body":{"billingAddress":{"coordinates":[77.5946,12.9716]},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"coordinates":[77.5946,12.9716]},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Order validation failed: user: User must be verified and valid, items.0.product: Product must be active and valid","service":"user-service","stack":"ValidationError: Order validation failed: user: User must be verified and valid, items.0.product: Product must be active and valid\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-19 17:34:17"}
{"body":{"billingAddress":{"coordinates":[77.5946,12.9716]},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"coordinates":[77.5946,12.9716]},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Order validation failed: user: User must be verified and valid","service":"user-service","stack":"ValidationError: Order validation failed: user: User must be verified and valid\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-19 17:39:03"}
{"level":"error","message":"Cannot destructure property 'status' of 'req.body' as it is undefined.","orderId":"68a469c5943208142990243d","service":"user-service","stack":"TypeError: Cannot destructure property 'status' of 'req.body' as it is undefined.\n    at updateOrderStatus (file:///C:/Users/DELL/Desktop/medical/backend/controllers/orderController.js:159:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at middleware (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-19 17:57:48"}
{"level":"error","message":"Order validation failed: orderStatus: `completed` is not a valid enum value for path `orderStatus`.","orderId":"68a469c5943208142990243d","service":"user-service","stack":"ValidationError: Order validation failed: orderStatus: `completed` is not a valid enum value for path `orderStatus`.\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-19 17:59:22"}
{"level":"error","message":"Cannot destructure property 'payment' of 'req.body' as it is undefined.","orderId":"68a469c5943208142990243d","service":"user-service","stack":"TypeError: Cannot destructure property 'payment' of 'req.body' as it is undefined.\n    at updatePayment (file:///C:/Users/DELL/Desktop/medical/backend/controllers/orderController.js:246:13)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at middleware (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-19 18:06:40"}
{"level":"error","message":"Order validation failed: payment.status: `` is not a valid enum value for path `status`.","orderId":"68a469c5943208142990243d","service":"user-service","stack":"ValidationError: Order validation failed: payment.status: `` is not a valid enum value for path `status`.\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at Subdocument.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\types\\subdocument.js:229:12)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-19 18:10:23"}
{"level":"error","message":"Error in getProducts: filter is not defined","service":"user-service","stack":"ReferenceError: filter is not defined\n    at getProducts (file:///C:/Users/DELL/Desktop/medical/backend/controllers/productController.js:1152:32)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at file:///C:/Users/DELL/Desktop/medical/backend/middlewares/rateLimiter.js:64:7\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\index.js:295:15","timestamp":"2025-08-19 21:55:56"}
{"body":{"category":"6899e55d2cc228a6c66ad6b0","description":"This is fever solution tablet","images":[],"name":"with image product solution 3","price":30,"quantity":"5","store":"6890fb1a51bb7bc2e3e8142b"},"level":"error","message":"Error in createProduct: store is not defined","service":"user-service","stack":"ReferenceError: store is not defined\n    at createProduct (file:///C:/Users/DELL/Desktop/medical/backend/controllers/productController.js:872:16)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-20 18:20:35"}
{"body":{"category":"6899e55d2cc228a6c66ad6b0","description":"This is fever solution tablet","images":["/uploads/1755694705505-312682583.jpg"],"name":"solution 3","price":30,"quantity":"5","store":"6890fb1a51bb7bc2e3e8142b"},"level":"error","message":"Error in createProduct: Product validation failed: images.0: Invalid image URL","service":"user-service","stack":"ValidationError: Product validation failed: images.0: Invalid image URL\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-20 18:28:25"}
{"body":{"category":"6899e55d2cc228a6c66ad6b0","description":"This is fever solution tablet","images":["/uploads/1755694904222-339685122.jpg"],"name":"solution 3","price":30,"quantity":"5","store":"6890fb1a51bb7bc2e3e8142b"},"level":"error","message":"Error in createProduct: Product validation failed: images.0: Invalid image URL","service":"user-service","stack":"ValidationError: Product validation failed: images.0: Invalid image URL\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-20 18:31:44"}
{"level":"error","message":"Error in deleteProduct: deleted is not defined","productId":"68a5c77d90d90b6bf2698913","service":"user-service","stack":"ReferenceError: deleted is not defined\n    at deleteProduct (file:///C:/Users/DELL/Desktop/medical/backend/controllers/productController.js:1010:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-20 18:33:31"}
{"id":"6890f11939afc893aaa8a7fc","level":"error","message":"Error in createNotification: Cannot read properties of undefined (reading 'userId')","service":"user-service","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at createNotification (file:///C:/Users/DELL/Desktop/medical/backend/controllers/notificationController.js:134:49)\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at file:///C:/Users/DELL/Desktop/medical/backend/middlewares/rateLimiter.js:64:7\n    at Layer.handleRequest (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\router\\lib\\route.js:157:13)\n    at middleware (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\express-validator\\lib\\middlewares\\check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-21 12:41:25"}
{"body":{"billingAddress":{"city":"","coordinates":[77.5946,12.9716],"country":"","postalCode":"","state":"","street":""},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"city":"","coordinates":[77.5946,12.9716],"country":"","postalCode":"","state":"","street":""},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Cannot read properties of undefined (reading 'id')","service":"user-service","stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at createOrder (file:///C:/Users/DELL/Desktop/medical/backend/controllers/orderController.js:219:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-24 17:01:07"}
{"body":{"billingAddress":{"city":"","coordinates":[77.5946,12.9716],"country":"","postalCode":"","state":"","street":""},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"city":"","coordinates":[77.5946,12.9716],"country":"","postalCode":"","state":"","street":""},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Cannot read properties of undefined (reading '_id')","service":"user-service","stack":"TypeError: Cannot read properties of undefined (reading '_id')\n    at createOrder (file:///C:/Users/DELL/Desktop/medical/backend/controllers/orderController.js:219:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-24 17:02:19"}
{"body":{"billingAddress":{"city":"","coordinates":[77.5946,12.9716],"country":"","postalCode":"","state":"","street":""},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"city":"","coordinates":[77.5946,12.9716],"country":"","postalCode":"","state":"","street":""},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Cannot read properties of undefined (reading '_id')","service":"user-service","stack":"TypeError: Cannot read properties of undefined (reading '_id')\n    at createOrder (file:///C:/Users/DELL/Desktop/medical/backend/controllers/orderController.js:219:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-24 17:04:34"}
{"body":{"billingAddress":{"city":"","coordinates":[77.5946,12.9716],"country":"","postalCode":"","state":"","street":""},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"city":"","coordinates":[77.5946,12.9716],"country":"","postalCode":"","state":"","street":""},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Cannot read properties of undefined (reading '_id')","service":"user-service","stack":"TypeError: Cannot read properties of undefined (reading '_id')\n    at createOrder (file:///C:/Users/DELL/Desktop/medical/backend/controllers/orderController.js:219:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-24 17:05:41"}
{"body":{"billingAddress":{"city":"","coordinates":[77.5946,12.9716],"country":"","postalCode":"","state":"","street":""},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"66c1b678ecbb5c11b5a9f999","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"city":"","coordinates":[77.5946,12.9716],"country":"","postalCode":"","state":"","street":""},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"E11000 duplicate key error collection: medical.orders index: orderId_1 dup key: { orderId: null }","service":"user-service","stack":"MongoServerError: E11000 duplicate key error collection: medical.orders index: orderId_1 dup key: { orderId: null }\n    at InsertOneOperation.execute (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-08-24 17:07:33"}
{"body":{"billingAddress":{"city":"","coordinates":[77.5946,12.9716],"country":"","postalCode":"","state":"","street":""},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"68a5c53e9c4906c14c6c06cf","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"city":"","coordinates":[77.5946,12.9716],"country":"","postalCode":"","state":"","street":""},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"E11000 duplicate key error collection: medical.orders index: orderId_1 dup key: { orderId: null }","service":"user-service","stack":"MongoServerError: E11000 duplicate key error collection: medical.orders index: orderId_1 dup key: { orderId: null }\n    at InsertOneOperation.execute (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-08-24 17:08:23"}
{"body":{"billingAddress":{"city":"","coordinates":[77.5946,12.9716],"country":"","postalCode":"","state":"","street":""},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"68a5c53e9c4906c14c6c06cf","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"city":"","coordinates":[77.5946,12.9716],"country":"","postalCode":"","state":"","street":""},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Order validation failed: orderId: Path `orderId` is required.","service":"user-service","stack":"ValidationError: Order validation failed: orderId: Path `orderId` is required.\n    at Document.invalidate (C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3354:32)\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\document.js:3115:17\n    at C:\\Users\\DELL\\Desktop\\medical\\backend\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-24 17:10:21"}
{"body":{"billingAddress":{"city":"","coordinates":[77.5946,12.9716],"country":"","postalCode":"","state":"","street":""},"discountAmount":10,"finalAmount":228,"items":[{"price":100,"product":"68a5c53e9c4906c14c6c06cf","quantity":2,"store":"66c1b5a1ecbb5c11b5a9f888"}],"payment":{"amount":228,"method":"upi","status":"pending"},"shippingAddress":{"city":"","coordinates":[77.5946,12.9716],"country":"","postalCode":"","state":"","street":""},"shippingAmount":20,"taxAmount":18,"totalAmount":200,"user":"6890f11939afc893aaa8a7fc"},"level":"error","message":"Cannot read properties of undefined (reading 'items')","service":"user-service","stack":"TypeError: Cannot read properties of undefined (reading 'items')\n    at createOrder (file:///C:/Users/DELL/Desktop/medical/backend/controllers/orderController.js:228:71)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-24 17:10:42"}
{"error":"logger is not defined","level":"error","message":"Error in store notification background process","orderId":"68aafaec41005d56ffc269f5","service":"user-service","timestamp":"2025-08-24 17:13:40"}
{"error":"Invalid URL","level":"error","message":"Error in store notification process","orderId":"68aafc0536a0e894b8f16df9","service":"user-service","timestamp":"2025-08-24 17:18:21"}
{"error":"Invalid URL","level":"error","message":"Error in store notification process","orderId":"68aafdebd0be00e9af76f629","service":"user-service","timestamp":"2025-08-24 17:26:28"}
{"error":"Invalid URL","level":"error","message":"Error in store notification process","orderId":"68aafe9ffa5923d11d0871a1","service":"user-service","timestamp":"2025-08-24 17:29:27"}
{"error":"Invalid URL","level":"error","message":"Error in store notification process","orderId":"68ab013a0a073b396034a4c4","service":"user-service","timestamp":"2025-08-24 17:40:34"}
{"error":"Invalid URL","level":"error","message":"Error in store notification process","orderId":"68ab01c3d4fae22237b80efe","service":"user-service","timestamp":"2025-08-24 17:42:51"}
{"error":"Invalid URL","level":"error","message":"Error in store notification process","orderId":"68ab02d86892fab137fe25f9","service":"user-service","timestamp":"2025-08-24 17:47:29"}
{"error":"Invalid URL","level":"error","message":"Error in store notification process","orderId":"68ac26d097404191ea8cdbe4","service":"user-service","timestamp":"2025-08-25 14:33:12"}
{"error":"Invalid URL","level":"error","message":"Error in store notification process","orderId":"68ac29db717af0e5e3367f55","service":"user-service","timestamp":"2025-08-25 14:46:11"}
{"error":"Invalid URL","level":"error","message":"Error in store notification process","orderId":"68ac2aba20a9a1be4426125d","service":"user-service","timestamp":"2025-08-25 14:49:55"}
{"error":"res is not defined","level":"error","message":"Error in store notification process","orderId":"68ac366a4caaab24a82e1d93","service":"user-service","timestamp":"2025-08-25 15:39:47"}
{"error":"res is not defined","level":"error","message":"Error in store notification background process","orderId":"68ac373c1532ca6aedae7000","service":"user-service","timestamp":"2025-08-25 15:43:16"}
{"error":"stores.data is not iterable","level":"error","message":"Error in store notification process","orderId":"68ac4844f1c356011495c113","service":"user-service","timestamp":"2025-08-25 16:55:56"}
{"error":"storeArray is not iterable","level":"error","message":"Error in store notification process","orderId":"68ac48ebce605c94c7dab16f","service":"user-service","timestamp":"2025-08-25 16:58:44"}
